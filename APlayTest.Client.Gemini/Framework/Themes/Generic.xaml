<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:searchTextBox="clr-namespace:APlayTest.Client.Gemini.Framework.Controls">

    <!--Icons-->
    <SolidColorBrush x:Key="BlackBrush"
                     Color="Black" />

    <Canvas x:Key="AppbarMagnify"
            Width="76"
            Height="76"
            Clip="F1 M 0,0L 76,0L 76,76L 0,76L 0,0">
        <Path Width="33.1464"
              Height="33.1465"
              Canvas.Left="21.8536"
              Canvas.Top="22"
              Stretch="Fill"
              Fill="Black"
              Data="F1 M 42.5,22C 49.4036,22 55,27.5964 55,34.5C 55,41.4036 49.4036,47 42.5,47C 40.1356,47 37.9245,46.3435 36,45.2426L 26.9749,54.2678C 25.8033,55.4393 23.9038,55.4393 22.7322,54.2678C 21.5607,53.0962 21.5607,51.1967 22.7322,50.0251L 31.7971,40.961C 30.6565,39.0755 30,36.8644 30,34.5C 30,27.5964 35.5964,22 42.5,22 Z M 42.5,26C 37.8056,26 34,29.8056 34,34.5C 34,39.1944 37.8056,43 42.5,43C 47.1944,43 51,39.1944 51,34.5C 51,29.8056 47.1944,26 42.5,26 Z " />
    </Canvas>

    <Canvas x:Key="AppbarClose"
            Width="76"
            Height="76"
            Clip="F1 M 0,0L 76,0L 76,76L 0,76L 0,0">
        <Path Width="31.6666"
              Height="31.6667"
              Canvas.Left="22.1666"
              Canvas.Top="22.1667"
              Stretch="Fill"
              Fill="{DynamicResource BlackBrush}"
              Data="F1 M 26.9166,22.1667L 37.9999,33.25L 49.0832,22.1668L 53.8332,26.9168L 42.7499,38L 53.8332,49.0834L 49.0833,53.8334L 37.9999,42.75L 26.9166,53.8334L 22.1666,49.0833L 33.25,38L 22.1667,26.9167L 26.9166,22.1667 Z " />
    </Canvas>

    <Canvas x:Key="AppbarClear"
            Width="76"
            Height="76"
            Clip="F1 M 0,0L 76,0L 76,76L 0,76L 0,0">
        <Path Width="40.4497"
              Height="28"
              Canvas.Left="16.5503"
              Canvas.Top="24"
              Stretch="Fill"
              Fill="{DynamicResource BlackBrush}"
              Data="F1 M 18.0147,41.5355C 16.0621,39.5829 16.0621,36.4171 18.0147,34.4645L 26.9646,25.5149C 28.0683,24.4113 29,24 31,24L 52,24C 54.7614,24 57,26.2386 57,29L 57,47C 57,49.7614 54.7614,52 52,52L 31,52C 29,52 28.0683,51.589 26.9646,50.4854L 18.0147,41.5355 Z M 47.5281,42.9497L 42.5784,37.9999L 47.5281,33.0502L 44.9497,30.4717L 40,35.4215L 35.0502,30.4717L 32.4718,33.0502L 37.4215,37.9999L 32.4718,42.9497L 35.0502,45.5281L 40,40.5783L 44.9497,45.5281L 47.5281,42.9497 Z " />
    </Canvas>

    <Canvas x:Key="AppbarTools"
            Width="76"
            Height="76"
            Clip="F1 M 0,0L 76,0L 76,76L 0,76L 0,0">
        <Path Width="41.1667"
              Height="41.2538"
              Canvas.Left="17.4167"
              Canvas.Top="17.3295"
              Stretch="Fill"
              Fill="{DynamicResource BlackBrush}"
              Data="F1 M 25.3333,42.75C 26.5189,42.75 27.6436,43.0106 28.6533,43.4777L 34.9459,37.185L 32.5825,34.8217L 30.3433,37.0609L 28.1042,34.8217L 29.0343,33.8915C 27.1425,33.1521 25.7233,31.6492 23.4735,29.3994C 18.836,24.7619 16.1846,19.8945 18.0395,18.0396C 19.8945,16.1846 23.9702,18.0444 28.6077,22.6819C 30.8575,24.9317 33.1521,27.1425 33.8915,29.0344L 34.8217,28.1042L 37.0608,30.3433L 34.8217,32.5825L 37.185,34.9459L 43.4777,28.6533C 43.0106,27.6436 42.75,26.5189 42.75,25.3333C 42.75,20.9611 46.2944,17.4167 50.6667,17.4167C 51.6877,17.4167 52.6636,17.61 53.5597,17.9619L 47.5,24.0216L 51.9783,28.5L 58.0381,22.4403C 58.39,23.3364 58.5833,24.3123 58.5833,25.3333C 58.5833,29.7056 55.0389,33.25 50.6667,33.25C 49.8136,33.25 48.9921,33.1151 48.2222,32.8654L 41.6634,39.4242L 50.8787,48.6395L 51.4384,48.0797L 56.8841,53.5253L 53.5253,56.8841L 48.0797,51.4384L 48.6395,50.8787L 39.4242,41.6634L 32.8654,48.2222C 33.1151,48.9921 33.25,49.8136 33.25,50.6667C 33.25,55.0389 29.7056,58.5833 25.3333,58.5833C 24.3123,58.5833 23.3364,58.39 22.4403,58.0381L 28.5,51.9783L 24.0217,47.5L 17.9619,53.5597C 17.61,52.6636 17.4167,51.6877 17.4167,50.6667C 17.4167,46.2944 20.9611,42.75 25.3333,42.75 Z " />
    </Canvas>

    <!--SearchTextBox-->
    <SolidColorBrush x:Key="SearchTextBox_Background"
                     Color="White" />
    <SolidColorBrush x:Key="SearchTextBox_Foreground"
                     Color="Black" />
    <LinearGradientBrush x:Key="SearchTextBox_Border"
                         StartPoint="0,0"
                         EndPoint="0,1">
        <GradientStop Color="#FFABADB3"
                      Offset="0.05" />
        <GradientStop Color="#FFE2E3EA"
                      Offset="0.07" />
        <GradientStop Color="#FFE4E9EF"
                      Offset="1" />
    </LinearGradientBrush>
    <LinearGradientBrush x:Key="SearchTextBox_BorderMouseOver"
                         StartPoint="0,0"
                         EndPoint="0,1">
        <GradientStop Color="#FF5C97C1"
                      Offset="0.05" />
        <GradientStop Color="#FFB9D7EB"
                      Offset="0.07" />
        <GradientStop Color="#FFC7E2F1"
                      Offset="1" />
    </LinearGradientBrush>
    <SolidColorBrush x:Key="SearchTextBox_IconBorder"
                     Color="White" />
    <SolidColorBrush x:Key="SearchTextBox_SearchIconBackground"
                     Color="White" />
    <LinearGradientBrush x:Key="SearchTextBox_SearchIconBorder_MouseOver"
                         StartPoint="0,0"
                         EndPoint="0,1">
        <GradientStop Color="#FFFFFFFF"
                      Offset="0" />
        <GradientStop Color="#FFE5F4FC"
                      Offset="1" />
    </LinearGradientBrush>
    <LinearGradientBrush x:Key="SearchTextBox_SearchIconBackground_MouseOver"
                         StartPoint="0,0"
                         EndPoint="0,1">
        <GradientStop Color="#FFE7F5FD"
                      Offset="0" />
        <GradientStop Color="#FFD2EDFC"
                      Offset="0.5" />
        <GradientStop Color="#FFB6E3FD"
                      Offset="0.51" />
        <GradientStop Color="#FF9DD5F3"
                      Offset="1" />
    </LinearGradientBrush>
    <LinearGradientBrush x:Key="SearchTextBox_SearchIconBorder_MouseDown"
                         StartPoint="0,0"
                         EndPoint="0,1">
        <GradientStop Color="#FFFFFFFF"
                      Offset="0" />
        <GradientStop Color="#FFE5F4FC"
                      Offset="1" />
    </LinearGradientBrush>
    <LinearGradientBrush x:Key="SearchTextBox_SearchIconBackground_MouseDown"
                         StartPoint="0,0"
                         EndPoint="0,1">
        <GradientStop Color="#FFE7F5FD"
                      Offset="0" />
        <GradientStop Color="#FFD2EDFC"
                      Offset="0.5" />
        <GradientStop Color="#FFB6E3FD"
                      Offset="0.51" />
        <GradientStop Color="#FF9DD5F3"
                      Offset="1" />
    </LinearGradientBrush>
    <SolidColorBrush x:Key="SearchTextBox_LabelTextColor"
                     Color="Gray" />

    <Style x:Key="{x:Type searchTextBox:SearchTextBox}"
           TargetType="{x:Type searchTextBox:SearchTextBox}">
        <Setter Property="Background"
                Value="{StaticResource SearchTextBox_Background}" />
        <Setter Property="BorderBrush"
                Value="{StaticResource SearchTextBox_Border}" />
        <Setter Property="Foreground"
                Value="{StaticResource SearchTextBox_Foreground}" />
        <Setter Property="BorderThickness"
                Value="1" />
        <Setter Property="SnapsToDevicePixels"
                Value="True" />
        <Setter Property="LabelText"
                Value="Search" />
        <Setter Property="FocusVisualStyle"
                Value="{x:Null}" />
        <Setter Property="LabelTextColor"
                Value="{StaticResource SearchTextBox_LabelTextColor}" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type searchTextBox:SearchTextBox}">

                    <Border x:Name="Border"
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}">
                        <Grid x:Name="LayoutGrid">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>

                            <!--Magnifier Icon-->
                            <Border x:Name="PART_SearchIconBorder"
                                    Grid.Column="0"
                                    VerticalAlignment="Stretch"
                                    HorizontalAlignment="Stretch"
                                    Width="{Binding RelativeSource={RelativeSource TemplatedParent},
                                                       Path=ActualHeight}"
                                    Height="{Binding RelativeSource={RelativeSource TemplatedParent},
                                                       Path=ActualHeight}"
                                    Padding="6"
                                    BorderBrush="{StaticResource SearchTextBox_IconBorder}">
                                <Rectangle HorizontalAlignment="Stretch"
                                           VerticalAlignment="Stretch">
                                    <Rectangle.Fill>
                                        <VisualBrush Visual="{StaticResource AppbarMagnify}"
                                                     Stretch="Fill" />
                                    </Rectangle.Fill>
                                </Rectangle>
                            </Border>

                            <!--Clear Icon-->
                            <Border x:Name="PART_ClearIconBorder"
                                    Grid.Column="2"
                                    Visibility="Hidden"
                                    VerticalAlignment="Stretch"
                                    HorizontalAlignment="Right"
                                    Width="{Binding RelativeSource={RelativeSource TemplatedParent},
                                                       Path=ActualHeight}"
                                    Height="{Binding RelativeSource={RelativeSource TemplatedParent},
                                                       Path=ActualHeight}"
                                    Padding="4,9,4,9"
                                    ToolTip="Clear your search"
                                    BorderBrush="{StaticResource SearchTextBox_IconBorder}">
                                <Rectangle HorizontalAlignment="Stretch"
                                           VerticalAlignment="Stretch">
                                    <Rectangle.Fill>
                                        <VisualBrush Visual="{StaticResource AppbarClear}"
                                                     Stretch="Fill" />
                                    </Rectangle.Fill>
                                </Rectangle>
                            </Border>

                            <!--Clear Icon-->
                            <Border x:Name="PART_OptionsIconBorder"
                                    Grid.Column="3"
                                    VerticalAlignment="Stretch"
                                    HorizontalAlignment="Right"
                                    ToolTip="Click to toggle search options"
                                    Width="{Binding RelativeSource={RelativeSource TemplatedParent},
                                                       Path=ActualHeight}"
                                    Height="{Binding RelativeSource={RelativeSource TemplatedParent},
                                                       Path=ActualHeight}"
                                    Padding="8"
                                    BorderBrush="{StaticResource SearchTextBox_IconBorder}">
                                <Rectangle HorizontalAlignment="Stretch"
                                           VerticalAlignment="Stretch">
                                    <Rectangle.Fill>
                                        <VisualBrush Visual="{StaticResource AppbarTools}"
                                                     Stretch="Fill" />
                                    </Rectangle.Fill>
                                </Rectangle>
                            </Border>

                            <!--The user typed Text goes here-->
                            <ScrollViewer Margin="2"
                                          x:Name="PART_ContentHost"
                                          Grid.Column="1"
                                          VerticalAlignment="Center" />

                            <!-- Watermark Text-->
                            <Label x:Name="LabelText"
                                   Margin="2"
                                   Grid.Column="1"
                                   Foreground="{Binding RelativeSource={RelativeSource TemplatedParent},
                                                          Path=LabelTextColor}"
                                   Content="{Binding RelativeSource={RelativeSource TemplatedParent},
                                                       Path=LabelText}"
                                   Padding="2,0,0,0"
                                   VerticalAlignment="Center"
                                   FontStyle="Italic" />

                        </Grid>
                    </Border>

                    <ControlTemplate.Triggers>

                        <!--<Trigger Property="IsMouseOver"
                                 Value="False">
                            <Setter Property="Background"
                                    TargetName="LayoutGrid"
                                    Value="{Binding RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type searchTextBox:SearchTextBox}}, Path=Background}" />
                        </Trigger>

                        <Trigger Property="IsKeyboardFocusWithin"
                                 Value="True">
                            <Setter Property="BorderBrush"
                                    Value="{StaticResource SearchTextBox_BorderMouseOver}" />
                        </Trigger>-->

                        <Trigger Property="HasText"
                                 Value="True">
                            <Setter Property="Visibility"
                                    TargetName="LabelText"
                                    Value="Hidden" />
                            <Setter Property="Visibility"
                                    TargetName="PART_ClearIconBorder"
                                    Value="Visible" />
                        </Trigger>

                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
</ResourceDictionary>